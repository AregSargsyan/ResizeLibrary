!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("angular-elements-resizer",["exports","@angular/core","rxjs","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["angular-elements-resizer"]={},e.ng.core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,i,s){"use strict";var n=function(){function e(e,s,n){this.renderer=e,this.elementRef=s,this.zone=n,this.isGrabbing=!1,this.previousX=0,this.previousY=0,this.hostLeft=0,this.hostLeftMargin=0,this.hostRight=0,this.hostRightMargin=0,this.hostTop=0,this.hostTopMargin=0,this.hostBottom=0,this.hostBottomMargin=0,this.hostMaxWidth=0,this.hostMinWidth=0,this.hostMaxHeight=0,this.hostMinHeight=0,this.onDestroy$=new i.Subject,this.resizingStart=new t.EventEmitter,this.resizingElement=new t.EventEmitter,this.resizingEnd=new t.EventEmitter}return e.prototype.mouseMoveOnElement=function(e){var t=this.hostCoordinates.right,i=this.hostCoordinates.left,s=this.hostCoordinates.top,n=this.hostCoordinates.bottom;t-e.clientX<10&&t-e.clientX>-10&&!this.isGrabbing?s-e.clientY<10&&s-e.clientY>-10?(this.renderer.setStyle(this.elementRef.nativeElement,"cursor","nesw-resize"),this.mouseOnBorder="top_right"):n-e.clientY<10&&n-e.clientY>-10?(this.renderer.setStyle(this.elementRef.nativeElement,"cursor","se-resize"),this.mouseOnBorder="bottom_right"):(this.renderer.setStyle(this.elementRef.nativeElement,"cursor","e-resize"),this.mouseOnBorder="right"):n-e.clientY<10&&n-e.clientY>-10&&!this.isGrabbing?i-e.clientX<10&&i-e.clientX>-10?(this.renderer.setStyle(this.elementRef.nativeElement,"cursor","nesw-resize"),this.mouseOnBorder="bottom_left"):(this.renderer.setStyle(this.elementRef.nativeElement,"cursor","s-resize"),this.mouseOnBorder="bottom"):i-e.clientX<10&&i-e.clientX>-10&&!this.isGrabbing?s-e.clientY<10&&s-e.clientY>-10?(this.renderer.setStyle(this.elementRef.nativeElement,"cursor","se-resize"),this.mouseOnBorder="top_left"):(this.renderer.setStyle(this.elementRef.nativeElement,"cursor","e-resize"),this.mouseOnBorder="left"):s-e.clientY<10&&s-e.clientY>-10&&!this.isGrabbing?(this.renderer.setStyle(this.elementRef.nativeElement,"cursor","s-resize"),this.mouseOnBorder="top"):this.isGrabbing||(this.renderer.removeStyle(this.elementRef.nativeElement,"cursor"),this.mouseOnBorder=!1),this.hostCoordinates=this.elementRef.nativeElement.getBoundingClientRect()},e.prototype.onMouseDown=function(e){this.mouseOnBorder&&(this.hostWidth=parseFloat(getComputedStyle(this.elementRef.nativeElement).width),this.hostHeight=parseFloat(getComputedStyle(this.elementRef.nativeElement).height),this.hostLeft=parseFloat(getComputedStyle(this.elementRef.nativeElement).left),this.hostRight=parseFloat(getComputedStyle(this.elementRef.nativeElement).right),this.hostLeftMargin=parseFloat(getComputedStyle(this.elementRef.nativeElement).marginLeft),this.hostRightMargin=parseFloat(getComputedStyle(this.elementRef.nativeElement).marginRight),this.hostTop=parseFloat(getComputedStyle(this.elementRef.nativeElement).top),this.hostTopMargin=parseFloat(getComputedStyle(this.elementRef.nativeElement).marginTop),this.hostBottom=parseFloat(getComputedStyle(this.elementRef.nativeElement).bottom),this.hostBottomMargin=parseFloat(getComputedStyle(this.elementRef.nativeElement).marginBottom),this.hostMaxWidth=parseFloat(getComputedStyle(this.elementRef.nativeElement).maxWidth),this.hostMinWidth=parseFloat(getComputedStyle(this.elementRef.nativeElement).minWidth),this.hostMaxHeight=parseFloat(getComputedStyle(this.elementRef.nativeElement).maxHeight),this.hostMinHeight=parseFloat(getComputedStyle(this.elementRef.nativeElement).minHeight),this.isGrabbing=!0,this.previousX=e.clientX,this.previousY=e.clientY,this.resizingStart.emit(this.outputData(e)),e.preventDefault())},e.prototype.onMouseMove=function(e){this.isGrabbing&&this.mouseOnBorder&&("top"==this.mouseOnBorder?this.resizeElementFromTheTop(e):"bottom"==this.mouseOnBorder?this.resizeElementFromTheBottom(e):"left"==this.mouseOnBorder?this.resizeElementFromTheLeft(e):"right"==this.mouseOnBorder?this.resizeElementFromTheRight(e):"top_left"==this.mouseOnBorder?(this.resizeElementFromTheLeft(e),this.resizeElementFromTheTop(e)):"top_right"==this.mouseOnBorder?(this.resizeElementFromTheRight(e),this.resizeElementFromTheTop(e)):"bottom_right"==this.mouseOnBorder?(this.resizeElementFromTheRight(e),this.resizeElementFromTheBottom(e)):"bottom_left"==this.mouseOnBorder&&(this.resizeElementFromTheLeft(e),this.resizeElementFromTheBottom(e)),this.resizingElement.emit(this.outputData(e))),this.hostCoordinates=this.elementRef.nativeElement.getBoundingClientRect()},e.prototype.resizeElementFromTheBottom=function(e){this.hostHeight+=e.clientY-this.previousY,this.hostBottom-=e.clientY-this.previousY,this.hostBottomMargin-=e.clientY-this.previousY,this.previousY=e.clientY,this.hostHeight<0||this.hostHeight<this.hostMinHeight||this.hostHeight>this.hostMaxHeight||(this.renderer.setStyle(this.elementRef.nativeElement,"height",this.hostHeight+"px"),"absolute"==getComputedStyle(this.elementRef.nativeElement).position||"fixed"==getComputedStyle(this.elementRef.nativeElement).position?this.renderer.setStyle(this.elementRef.nativeElement,"bottom",this.hostBottom+"px"):this.renderer.setStyle(this.elementRef.nativeElement,"margin-bottom",this.hostBottomMargin+"px"))},e.prototype.resizeElementFromTheTop=function(e){this.hostHeight-=e.clientY-this.previousY,this.hostTop+=e.clientY-this.previousY,this.hostTopMargin+=e.clientY-this.previousY,this.previousY=e.clientY,this.hostHeight<0||this.hostHeight<this.hostMinHeight||this.hostHeight>this.hostMaxHeight||(this.renderer.setStyle(this.elementRef.nativeElement,"height",this.hostHeight+"px"),"absolute"==getComputedStyle(this.elementRef.nativeElement).position||"fixed"==getComputedStyle(this.elementRef.nativeElement).position?this.renderer.setStyle(this.elementRef.nativeElement,"top",this.hostTop+"px"):this.renderer.setStyle(this.elementRef.nativeElement,"margin-top",this.hostTopMargin+"px"))},e.prototype.resizeElementFromTheRight=function(e){this.hostWidth+=e.clientX-this.previousX,this.hostRight-=e.clientX-this.previousX,this.hostRightMargin-=e.clientX-this.previousX,this.previousX=e.clientX,this.hostWidth<0||this.hostWidth<this.hostMinWidth||this.hostWidth>this.hostMaxWidth||(this.renderer.setStyle(this.elementRef.nativeElement,"width",this.hostWidth+"px"),"absolute"==getComputedStyle(this.elementRef.nativeElement).position||"fixed"==getComputedStyle(this.elementRef.nativeElement).position?this.renderer.setStyle(this.elementRef.nativeElement,"right",this.hostRight+"px"):this.renderer.setStyle(this.elementRef.nativeElement,"margin-right",this.hostRightMargin+"px"))},e.prototype.resizeElementFromTheLeft=function(e){this.hostWidth-=e.clientX-this.previousX,this.hostLeft+=e.clientX-this.previousX,this.hostLeftMargin+=e.clientX-this.previousX,this.previousX=e.clientX,this.hostWidth<=0||this.hostWidth<=this.hostMinWidth||this.hostWidth>=this.hostMaxWidth||(this.renderer.setStyle(this.elementRef.nativeElement,"width",this.hostWidth+"px"),"absolute"==getComputedStyle(this.elementRef.nativeElement).position||"fixed"==getComputedStyle(this.elementRef.nativeElement).position?this.renderer.setStyle(this.elementRef.nativeElement,"left",this.hostLeft+"px"):this.renderer.setStyle(this.elementRef.nativeElement,"margin-left",this.hostLeftMargin+"px"))},e.prototype.onMouseUp=function(e){this.isGrabbing&&(this.resizingEnd.emit(this.outputData(e)),this.isGrabbing=!1)},e.prototype.outputData=function(e){return{elementStyles:getComputedStyle(this.elementRef.nativeElement),mouseevent:e}},e.prototype.setSubscriptions=function(){var e=this;this.mouseMoveOnElement$=i.fromEvent(this.elementRef.nativeElement,"mousemove").pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){return e.mouseMoveOnElement(t)})),this.mouseDownOnElement$=i.fromEvent(this.elementRef.nativeElement,"mousedown").pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){return e.onMouseDown(t)})),this.mouseMoveonDocument$=i.fromEvent(document,"mousemove").pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){return e.onMouseMove(t)})),this.mouseUpOnDocument$=i.fromEvent(document,"mouseup").pipe(s.takeUntil(this.onDestroy$)).subscribe((function(t){return e.onMouseUp(t)}))},e.prototype.ngOnInit=function(){var e=this;this.hostCoordinates=this.elementRef.nativeElement.getBoundingClientRect(),this.zone.runOutsideAngular((function(){return e.setSubscriptions()}))},e.prototype.ngOnDestroy=function(){this.onDestroy$.next(),this.onDestroy$.complete()},e}();n.decorators=[{type:t.Directive,args:[{selector:"[resizable]"}]}],n.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:t.NgZone}]},n.propDecorators={resizingStart:[{type:t.Output}],resizingElement:[{type:t.Output}],resizingEnd:[{type:t.Output}]};var o=function(){};o.decorators=[{type:t.NgModule,args:[{declarations:[n],imports:[],exports:[n]}]}],e.AngularElementsResizerModule=o,e.ResizableDirective=n,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-elements-resizer.umd.min.js.map